# Anima ğŸ¤–

å…·å‚™æŒä¹…è¨˜æ†¶ã€äººæ ¼ä¸€è‡´æ€§èˆ‡èº«ä»½è­˜åˆ¥çš„ç¤¾ç¾¤ AI Agentï¼Œæ”¯æ´ Threads/MCP æœ¬åœ°å°è©±èˆ‡æ¨¡æ“¬è§€å¯Ÿæ¨¡å¼ã€‚

## ç‰¹è‰²

- **æŒä¹…è¨˜æ†¶**ï¼šMem0 ä¸‰å±¤è¨˜æ†¶ï¼ˆæƒ…ç¯€/èªç¾©/åæ€ï¼‰ï¼Œä¸¦åˆ†é›¢ agent/user scopeï¼Œç¢ºä¿å°è©±è€…èˆ‡å°å…‰çš„å…§å®¹ä¸æ··æ·†
- **äººæ ¼ä¸€è‡´æ€§**ï¼šå€Ÿé¡ TinyTroupe çš„ persona schemaï¼Œç”¢ç”Ÿ/æ ¡é©—å›è¦†
- **åæ€æ©Ÿåˆ¶**ï¼šå€Ÿé¡ Generative Agentsï¼Œå®šæœŸç”Ÿæˆé«˜å±¤æ¬¡æ´è¦‹
- **èº«ä»½è­˜åˆ¥**ï¼šMCP æ¨¡å¼å¯ã€Œæˆ‘æ˜¯/æˆ‘å«ã€æˆ– `anima_set_user` æŒ‡å®šèº«ä»½ï¼Œè¨˜æ†¶æœƒæ¨™è¨˜ participant_xxx
- **å¹³å°ç„¡é—œ**ï¼šCLI/daemon/MCP æ¨¡å¼ä¸¦è¡Œï¼Œæ˜“æ–¼æ¥åˆ°å…¶ä»–å¹³å°
- **å¯è‡ªè¨‚äººæ ¼**ï¼šé€é JSON å®šç¾©è§’è‰²ï¼Œéš¨æ™‚åˆ‡æ›

## æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Anima Agent                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  Scheduler  â”‚â”€â”€â”€â”‚   Brain     â”‚â”€â”€â”€â”‚  Platform   â”‚           â”‚
â”‚  â”‚  (Cron)     â”‚   â”‚  (æ±ºç­–å¼•æ“) â”‚   â”‚  Adapter    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚         â–¼                 â–¼                 â–¼                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚   Persona   â”‚   â”‚   Memory    â”‚   â”‚  Reflection â”‚           â”‚
â”‚  â”‚   Engine    â”‚   â”‚   (Mem0)    â”‚   â”‚   Engine    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å¿«é€Ÿé–‹å§‹

### 1. å®‰è£ä¾è³´

```bash
# ä½¿ç”¨ pip
pip install -e .

# æˆ–ä½¿ç”¨ poetry
poetry install
```

### 2. è¨­å®šç’°å¢ƒè®Šæ•¸

å¿…å¡«ï¼ˆå¯ç”¨ `.env`ï¼‰ï¼š
- `OPENAI_API_KEY`
- `THREADS_ACCESS_TOKEN` / `THREADS_USER_ID`ï¼ˆä½¿ç”¨ Threads æ™‚ï¼‰
- `PERSONA_FILE`ï¼ˆé è¨­ `personas/default.json`ï¼‰
- `QDRANT_URL` / `QDRANT_API_KEY`ï¼ˆé›²ç«¯ Qdrantï¼‰æˆ–æœ¬åœ° `http://localhost:6333`

### 3. å•Ÿå‹•æœ¬åœ°æœå‹™ï¼ˆé–‹ç™¼ç”¨ï¼Œå¯é¸ï¼‰

```bash
docker-compose up -d qdrant postgres
```

### 4. é‹è¡Œ CLI/Daemon

```bash
# åŸ·è¡Œä¸€æ¬¡äº’å‹•å¾ªç’°
anima cycle

# ç™¼ä¸€å‰‡è²¼æ–‡
anima post --topic "AI"

# ç”¢ç”Ÿåæ€
anima reflect

# æŸ¥çœ‹çµ±è¨ˆ
anima stats

# ä»¥ daemon æ¨¡å¼é‹è¡Œï¼ˆå®šæ™‚åŸ·è¡Œï¼‰
anima daemon

# è§€å¯Ÿæ¨¡å¼ï¼ˆæ¨¡æ“¬ä½†ä¸ç™¼æ–‡ï¼‰
anima observe --mock --cycles 3

# æ¨™è¨»èˆ‡åˆ†æ
anima review             # äº’å‹•å¼æ¨™è¨»
anima review --stats     # æŸ¥çœ‹çµ±è¨ˆ
anima analyze            # ç”¢ç”Ÿåˆ†æå ±å‘Š
```

### 5. MCPï¼ˆClaude Desktop ç­‰ï¼‰

1. å»ºç«‹ `mcp-config.json`ï¼Œå¥—ç”¨å°ˆæ¡ˆçµ•å°è·¯å¾‘ï¼ˆAPI key ç­‰å¾å°ˆæ¡ˆ `.env` è®€å–ï¼Œä¸ç”¨åœ¨é€™è£¡å¡ï¼‰ï¼š
   ```json
   {
     "mcpServers": {
       "anima": {
         "command": "/path/to/anima/.venv/bin/python",
         "args": ["-m", "src.mcp"],
         "env": {
           "PYTHONPATH": "/path/to/anima"
         }
       }
     }
   }
   ```
2. åœ¨ MCP å®¢æˆ¶ç«¯è¼‰å…¥ã€‚å°è©±æ™‚å¯èªªã€Œæˆ‘æ˜¯ Alexã€æˆ–å‘¼å« `anima_set_user("Alex")` è®“è¨˜æ†¶æ¨™è¨˜ç‚º `participant_Alex`ã€‚

**å¯ç”¨ MCP å·¥å…·ï¼š**

| å·¥å…· | èªªæ˜ |
|------|------|
| `anima_chat` | èˆ‡ Anima å°è©±ï¼ˆè‡ªå‹•è­˜åˆ¥èº«ä»½ã€è¨˜éŒ„è¨˜æ†¶ï¼‰ |
| `anima_set_user` | è¨­å®šç•¶å‰å°è©±è€…çš„åå­— |
| `anima_search_memory` | æœå°‹ Anima çš„è¨˜æ†¶ |
| `anima_add_memory` | æ–°å¢ä¸€å‰‡è¨˜æ†¶ |
| `anima_get_recent_memories` | å–å¾—æœ€è¿‘çš„è¨˜æ†¶ |
| `anima_reflect` | è®“ Anima é€²è¡Œåæ€ |
| `anima_get_persona` | å–å¾—äººæ ¼è³‡è¨Š |
| `anima_memory_stats` | å–å¾—è¨˜æ†¶çµ±è¨ˆ |

## è‡ªè¨‚äººæ ¼

ç·¨è¼¯ `personas/default.json` æˆ–å»ºç«‹æ–°çš„äººæ ¼æª”æ¡ˆï¼š

```json
{
  "identity": {
    "name": "ä½ çš„è§’è‰²å",
    "age": 25,
    "occupation": "è·æ¥­",
    "background": "èƒŒæ™¯æ•…äº‹..."
  },
  "personality": {
    "traits": ["å¥½å¥‡", "å¹½é»˜", "æ€è€ƒå‹"],
    "values": ["çœŸå¯¦", "å‰µæ„"],
    "communication_style": "è¼•é¬†è‡ªç„¶"
  },
  ...
}
```

è©³ç´°çš„ schema è«‹åƒè€ƒ `src/agent/persona.py`ã€‚

## è¨˜æ†¶èˆ‡èº«ä»½è¨­è¨ˆï¼ˆé‡é»ï¼‰

- äº’å‹•æœƒæ‹†æˆå…©ç­†ï¼š`participant_*`ï¼ˆå°è©±è€…å…§å®¹ï¼Œuser scopeï¼‰èˆ‡ `agent_id`ï¼ˆå°å…‰å›è¦†ï¼Œagent scopeï¼‰ï¼Œä¸¦è¤‡å¯«ä¸€ä»½æ‘˜è¦åˆ° agent scopeï¼Œç¢ºä¿åæ€/çµ±è¨ˆå¯è¦‹å°è©±è€…è³‡è¨Šã€‚
- `search/get_recent/stats` æœƒåˆä½µ agent/user è¨˜æ†¶ï¼›MCP èº«ä»½ç”±ã€Œæˆ‘æ˜¯/æˆ‘å«ã€æˆ– `anima_set_user` æ±ºå®šã€‚

## æˆæ¬Š

MIT License

## è‡´è¬

- [Mem0](https://github.com/mem0ai/mem0) - è¨˜æ†¶ç³»çµ±
- [TinyTroupe](https://github.com/microsoft/TinyTroupe) - äººæ ¼æ¡†æ¶æ¦‚å¿µ
- [Generative Agents](https://github.com/joonspk-research/generative_agents) - åæ€æ©Ÿåˆ¶æ¦‚å¿µ
